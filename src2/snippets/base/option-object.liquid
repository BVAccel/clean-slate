{%- capture _arguments -%}
  {%- include 'argument',
    _value: _option,
    _name: '_option',
    _required: true -%}
{%- endcapture -%}

{%- capture _errors -%}
  {%- include 'errors' with _arguments, _snippet: 'option-object' -%}
{%- endcapture -%}

{%- assign _arguments = nil -%}

{%- if _errors == '' -%}
  {
    "name": "{{- _option.name -}}",
    "position": {{- _option.position -}},
    "values": [
      {%- for _value in _option.values -%}
        "{{- _value -}}"{%- unless forloop.last -%},{%- endunless -%}
      {%- endfor -%}
    ],
    "initialValue": "{{- _option.selected_value -}}"
  }
{%- else -%}

  {{- _errors -}}

{%- endif -%}

{%- assign _errors = nil -%}
