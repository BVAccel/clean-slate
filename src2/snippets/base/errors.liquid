{%- assign _errors = errors | remove_first: '::' | split: '::' -%}

{%- for error in _errors -%}

  {%- assign error_parts = error | split: ',,' -%}
  {%- assign is_error = error_parts | first | strip -%}

  {%- if is_error == 'error' -%}

    {%- assign error_type = error_parts[1] | strip -%}
    {%- assign error_value = error_parts[2] | strip -%}
    {%- assign error_parts = nil -%}

    {%- capture error_message -%}
      Error in {{ _snippet -}}.liquid - {{ error_type }}: {{ error_value -}}
    {%- endcapture -%}

    {%- assign error_type = nil -%}
    {%- assign error_value = nil -%}

    <pre>{{ error_message }}</pre>
    <script>console.log('{{ error_message }}')</script>

    {%- assign error_message = nil -%}

  {%- endif -%}

  {%- assign is_error = nil -%}

{%- endfor -%}

{%- assign _errors = nil -%}
