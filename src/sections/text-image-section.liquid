{% assign section_text = section.settings.section_text %}
{% assign section_image = section.settings.section_image %}
{% assign theme = section.settings.theme_select %}
{% assign layout = section.settings.layout_select %}
<div class="text-image-section text-image-section__theme text-image-section__theme--{{ theme }}">

    <div class="text-image-section__container text-image-section__container--{{ layout }} container">

        {% if section_image %}
            <picture class="text-image-section__picture">
                <source media="(min-width: 960px)" srcset="{{ section_image | img_url: '1440x' }}, {{ section_image | img_url: '2880x'}} 2x">
                <source media="(min-width: 768px)" srcset="{{ section_image | img_url: '960x' }}, {{ section_image | img_url: '1920x'}} 2x">
                <source media="(min-width: 640px)" srcset="{{ section_image | img_url: '768x' }}, {{ section_image | img_url: '1536x'}} 2x">
                <source media="(min-width: 480px)" srcset="{{ section_image | img_url: '640x' }}, {{ section_image | img_url: '1280x'}} 2x">
                <source srcset="{{ section_image | img_url: '480x' }}">
                <img src="{{ section_image | img_url: '1200x' }}" alt="{{section_image.alt | escape}}" class="text-image-section__image">
            </picture>
        {% endif %}

        <div class="text-image-section__copy">{{ section_text }}</div>
    
    </div>
</div>

{% schema %}
    {
        "name": "Image Text Split",
        "settings": [
            {
                "type": "richtext",
                "id": "section_text",
                "label": "Text"
            },
            {
                "type": "image_picker",
                "id": "section_image",
                "label": "Image"
            },
            {
                "type": "select",
                "id": "theme_select",
                "label": "Theme",
                "info": "pick a color theme for the section",
                "options": [
                    {
                        "value": "light",
                        "label": "Light"
                    },
                    {
                        "value": "dark",
                        "label": "Dark"
                    }
                ],
                "default": "light"
            },
            {
                "type": "select",
                "id": "layout_select",
                "label": "Layout",
                "info": "pick a layout for the section",
                "options": [
                    {
                        "value": "image-right",
                        "label": "Image Right"
                    },
                    {
                        "value": "image-left",
                        "label": "Image Left"
                    }
                ],
                "default": "image-right"
            }
        ]
    }
{% endschema %}