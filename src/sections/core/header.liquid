<section
  class="oo-header"
  data-section-id="{{ section.id }}"
  data-section-type="header">

  {%- for block in section.blocks -%}
    {%- case block.type -%}

      {%- when 'logo' -%}

        {%- if block.settings.logo_svg_snippet != blank-%}

          {%- include 'svg',
            snippet: block.settings.logo_svg_snippet,
            classes: 'oo-header-logo' -%}

        {%- else -%}

          {%- include 'image',
            resource: block.settings.logo_image,
            size: block.settings.logo_image_size,
            srcset: block.settings.logo_image_srcset,
            sizes: block.settings.logo_image_sizes,
            classes: 'oo-header-logo' -%}

        {%- endif -%}

      {%- when 'primary_navigaiton' -%}

        {%- include 'header-primary-navigation',
          menu: block.settings.primary_navigation_linklist -%}

      {%- when 'secondary_navigaiton' -%}

        {%- include 'header-secondary-navigation',
          menu: block.settings.secondary_navigation_linklist -%}

      {%- when 'cart' -%}

        {%- include 'button',
          icon: block.settings.cart_icon,
          content: block.settings.cart_content,
          classes: 'oo-header-cart' -%}

      {%- when 'search' -%}

        {%- include 'header-search',
          icon: block.settings.search_icon,
          placeholder: block.settings.placeholder_text,
          classes: 'oo-header-search' -%}

    {%- endcase -%}
  {%- endfor -%}

</section>

{% schema %}
  {
    "name": "Header",
    "settings": [],
    "blocks": [
      {
        "name": "Logo",
        "type": "logo",
        "limit": 1,
        "settings": [
          {
             "type": "header",
             "content": "SVG"
          },
          {
            "type": "text",
            "id": "logo_svg_snippet",
            "label": "If image is svg snippet, enter snippet name here"
          },
          {
             "type": "header",
             "content": "Image"
          },
          {
            "type": "image_picker",
            "id": "logo_image",
            "label": "If image is non-svg, add it here"
          },
          {
            "type": "text",
            "id": "logo_image_size",
            "label": "e.g. 800x"
          },
          {
            "type": "text",
            "id": "logo_image_srcset",
            "label": "srcset string (see image.liquid snippet for details)"
          },
          {
            "type": "text",
            "id": "logo_image_sizes",
            "label": "sizes string (see image.liquid snippet for details)"
          },
          {
            "type": "text",
            "id": "logo_image_type",
            "label": "Image type (e.g. 'pjpg')"
          }
        ]
      },
      {
        "name": "Primary Navigation",
        "type": "primary_navigaiton",
        "limit": 1,
        "settings": [
          {
            "type": "link_list",
            "id": "primary_navigation_linklist",
            "label": "Primary Navigation Linklist",
            "default": "main-menu"
          }
        ]
      },
      {
        "name": "Secondary Navigation",
        "type": "secondary_navigaiton",
        "limit": 1,
        "settings": [
          {
            "type": "link_list",
            "id": "secondary_navigation_linklist",
            "label": "Secondary Navigation Linklist"
          }
        ]
      },
      {
        "name": "Cart",
        "type": "cart",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "cart_icon",
            "label": "Icon for Cart Menu",
            "info": "write out the icon snippet name e.g. `icon-envelope`"
          },
          {
            "type": "textarea",
            "id": "cart_content",
            "label": "Additional Content for Cart Menu"
          }
        ]
      },
      {
        "name": "Search",
        "type": "search",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "search_icon",
            "label": "Icon for Search Button",
            "info": "write out the icon snippet name e.g. `icon-envelope`"
          },
          {
            "type": "text",
            "id": "placeholder_text",
            "label": "Search Input Placeholder Text",
            "default": "Search"
          }
        ]
      }
    ]
  }
{% endschema %}
