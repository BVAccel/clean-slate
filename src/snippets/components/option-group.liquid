{%- comment -%}

  Required arguments:
  - option

  Optional arguments:
  - show_option_name
  - show_selected_value
  - classes
  - attrs

{%- endcomment -%}


<div
  class="oo-option-group option-group-{{- option.name | handle }} {{ classes -}}"
  data-option-group="{{- option.name -}}"
  {{ attrs -}}>

  {%- capture selected_value -%}
    {%- unless show_selected_value == blank -%}
      <div data-selected-value>{{ option.selected_value }}</div>
    {%- endunless -%}
  {%- endcapture -%}

  {%- assign title = option.name | append: ':' -%}

  {%- unless show_option_name == blank -%}
    {%- include 'header',
      title: title,
      level: 3,
      content: selected_value -%}
  {%- endunless -%}

  {%- assign selected_value = nil -%}
  {%- assign title = nil -%}


  {%- for value in option.values -%}

    {%- if option.selected_value == value -%}
      {%- assign selected = 'checked' -%}
    {%- endif -%}

    {%- capture input_group_classes -%}
      oo-option-value swatch-{{- value | handle -}}
    {%- endcapture -%}

    {%- capture input_group_attrs -%}
      data-option-value
    {%- endcapture -%}

    {%- include 'input-group',
      type: 'radio',
      name: option.name,
      value: value,
      hide_input: true,
      input_attrs: selected,
      input_classes: 'u-visually-hidden',
      classes: input_group_classes,
      attrs: input_group_attrs -%}

    {%- assign value = nil -%}
    {%- assign selected = nil -%}
    {%- assign input_group_classes = nil -%}
    {%- assign input_group_attrs = nil -%}

  {%- endfor -%}

</div>
