{%- capture arguments -%}
  {%- include 'argument',
    _name: 'src',
    _required: true,
    _value: src,
    _type: 'Url',
    _description: 'url used for <img> `src` attribute' -%}
  {%- include 'argument',
    _name: 'srcset',
    _required: false,
    _value: srcset,
    _type: 'Url',
    _description: 'urls used for <img> `srcset` attribute' -%}
  {%- include 'argument',
    _name: 'alt',
    _required: false,
    _value: alt,
    _type: 'String',
    _description: 'value used for <img> `alt` attribute' -%}
{%- endcapture -%}

{%- capture errors -%}
  {%- include 'errors' with arguments, snippet: 'image' -%}
{%- endcapture -%}

{{ errors }}

{%- if errors == '' -%}
  <img class="oo-image {{ classes }}" {{ additional_attributes }}
       src="{{- src -}}"
       {% if srcset %}srcset="{{- srcset -}}"{% endif %}
       alt="{%- if alt != blank -%}{{- alt -}}{%- elsif src.alt != blank -%}{{- src.alt -}}{%- endif -%}">
{%- else -%}
  {{ errors }}
{%- endif -%}

{%- assign arguments = blank -%}
{%- assign errors = blank -%}
